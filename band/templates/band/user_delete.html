{% extends 'band/base.html' %}

{% block title %}Delete User - WorshipFlow{% endblock %}

{% block content %}
<h2>Delete User</h2>

<div class="card" style="border-left: 4px solid #e74c3c;">
    <h3 style="color: #e74c3c;">Warning: This action cannot be undone</h3>
    <p>You are about to delete the following user:</p>

    <div style="background: #f8f9fa; padding: 15px; border-radius: 4px; margin: 15px 0;">
        <p><strong>Email:</strong> {{ target_user.email|default:target_user.username }}</p>
        {% if target_user.first_name or target_user.last_name %}
        <p><strong>Name:</strong> {{ target_user.first_name }} {{ target_user.last_name }}</p>
        {% endif %}
        <p><strong>Church:</strong> {{ profile.church.name|default:"â€”" }}</p>
        <p><strong>Role:</strong> {{ profile.get_app_role_display }}</p>
    </div>
</div>

<div class="card">
    <h3>Confirm Deletion</h3>
    <p>Are you sure you want to permanently delete <strong>"{{ target_user.email|default:target_user.username }}"</strong>? This will remove their account and all associated data.</p>

    <form method="post" action="{% url 'band:user_delete_confirm' target_user.id %}" style="margin-top: 20px;">
        {% csrf_token %}
        <button type="submit" style="background: #e74c3c;">Yes, Delete This User</button>
        <a href="{% url 'band:user_list' %}" class="btn" style="background: #95a5a6; margin-left: 10px;">Cancel</a>
    </form>
</div>

{% endblock %}
